"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.observe = void 0;
const _1 = require("./");
exports.observe = (t) => {
    Object.defineProperties(t, {
        chan: {
            value: new _1.MultiReceiverChannel(),
        },
        notify: {
            value: function () {
                this.chan.send(this);
            }
        },
        receiver: {
            value: function () {
                return this.chan.receiver();
            }
        },
        removeReceiver: {
            value: function (r) {
                r.close();
                this.chan.removeReceiver(r);
            }
        }
    });
    return t;
};
